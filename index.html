<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Komposisi Fungsi - Belajar & Berlatih</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .math { font-family: 'Times New Roman', serif; }
        
        /* Celebration Animation */
        @keyframes celebrate {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-5deg); }
            50% { transform: scale(1.2) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-3deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .celebrate {
            animation: celebrate 0.6s ease-in-out;
        }
        
        /* Confetti Animation */
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            z-index: 1000;
            pointer-events: none;
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            width: 400px;
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Developer Section -->
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-6 text-center">
            <div class="flex flex-col items-center space-y-3">
                <img src="https://raw.githubusercontent.com/gitachandra34-del/dunia-komposisi/refs/heads/main/guru%20gita.png" 
                     alt="Gita Chandra Febriliana - Pengembang Aplikasi" 
                     class="w-16 h-16 rounded-full border-3 border-white/30 shadow-lg"
                     onerror="this.src=''; this.alt='Foto tidak dapat dimuat'; this.style.display='none';">
                <div class="text-white">
                    <p class="text-lg font-bold text-yellow-300">Gita Chandra Febriliana</p>
                    <p class="text-sm text-purple-100">Pengembang Aplikasi Pembelajaran</p>
                </div>
            </div>
        </div>

        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üìö Komposisi Fungsi</h1>
            <p class="text-purple-100 text-lg">Pelajari materi dan latihan soal komposisi fungsi</p>
        </div>

        <!-- Navigation -->
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-8">
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="showSection('material')" id="btn-material" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                    üìñ Pelajari Materi
                </button>
                <button onclick="showSection('game')" id="btn-game" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                    üéØ Latihan Soal
                </button>
            </div>
        </div>

        <!-- Material Section -->
        <div id="material-section" class="bg-white rounded-2xl shadow-2xl p-8 mb-6">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">üìñ Materi: Komposisi Fungsi</h2>
            
            <div class="space-y-6">
                <div class="bg-blue-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-blue-800 mb-3">üéØ Definisi Komposisi Fungsi</h3>
                    <p class="text-gray-700 mb-3">
                        Komposisi fungsi adalah operasi yang menggabungkan dua fungsi atau lebih menjadi satu fungsi baru. 
                        Hasil dari fungsi pertama menjadi input untuk fungsi kedua.
                    </p>
                    <div class="bg-white rounded-lg p-4 math text-lg space-y-2">
                        <p><strong>Notasi:</strong> (f ‚àò g)(x) = f(g(x))</p>
                        <p class="text-sm text-gray-600">Dibaca: "f komposisi g dari x" atau "f bulat g dari x"</p>
                    </div>
                    <div class="mt-4 p-4 bg-blue-100 rounded-lg">
                        <p class="text-sm text-blue-800">
                            <strong>Penting:</strong> Urutan fungsi sangat berpengaruh! 
                            (f ‚àò g)(x) ‚â† (g ‚àò f)(x) dalam kebanyakan kasus.
                        </p>
                    </div>
                </div>

                <div class="bg-green-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-green-800 mb-3">üìã Langkah-langkah Menyelesaikan</h3>
                    <ol class="list-decimal list-inside space-y-3 text-gray-700">
                        <li><strong>Identifikasi fungsi:</strong> Tentukan mana fungsi dalam (g) dan fungsi luar (f)</li>
                        <li><strong>Hitung fungsi dalam:</strong> Substitusikan nilai x ke dalam g(x)</li>
                        <li><strong>Substitusi ke fungsi luar:</strong> Masukkan hasil g(x) ke dalam f</li>
                        <li><strong>Sederhanakan:</strong> Hitung nilai akhir atau bentuk aljabar</li>
                    </ol>
                    <div class="mt-4 p-4 bg-green-100 rounded-lg">
                        <p class="text-sm text-green-800">
                            <strong>Tips:</strong> Selalu kerjakan dari dalam ke luar, seperti mengupas bawang!
                        </p>
                    </div>
                </div>

                <div class="bg-purple-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-purple-800 mb-3">üîÑ Jenis-jenis Komposisi Fungsi</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg p-4">
                            <h4 class="font-semibold text-purple-700 mb-2">1. Komposisi Dua Fungsi</h4>
                            <p class="text-gray-700 math">(f ‚àò g)(x) = f(g(x))</p>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h4 class="font-semibold text-purple-700 mb-2">2. Komposisi Tiga Fungsi</h4>
                            <p class="text-gray-700 math">(f ‚àò g ‚àò h)(x) = f(g(h(x)))</p>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h4 class="font-semibold text-purple-700 mb-2">3. Komposisi Fungsi dengan Dirinya Sendiri</h4>
                            <p class="text-gray-700 math">(f ‚àò f)(x) = f(f(x))</p>
                        </div>
                    </div>
                </div>

                <div class="bg-yellow-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-yellow-800 mb-3">üí° Contoh Lengkap</h3>
                    <div class="space-y-4">
                        <div class="bg-white rounded-lg p-4">
                            <p><strong>Diketahui:</strong> f(x) = 2x + 1 dan g(x) = x - 3</p>
                            <p><strong>Tentukan:</strong> (f ‚àò g)(5)</p>
                            <div class="mt-3 space-y-2 text-sm">
                                <p><strong>Langkah 1:</strong> Hitung g(5) = 5 - 3 = 2</p>
                                <p><strong>Langkah 2:</strong> Hitung f(2) = 2(2) + 1 = 4 + 1 = 5</p>
                                <p><strong>Jadi:</strong> (f ‚àò g)(5) = 5</p>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4">
                            <p><strong>Contoh Bentuk Umum:</strong></p>
                            <p><strong>Tentukan:</strong> (f ‚àò g)(x)</p>
                            <div class="mt-3 space-y-2 text-sm">
                                <p><strong>Langkah 1:</strong> g(x) = x - 3</p>
                                <p><strong>Langkah 2:</strong> f(g(x)) = f(x - 3) = 2(x - 3) + 1</p>
                                <p><strong>Langkah 3:</strong> = 2x - 6 + 1 = 2x - 5</p>
                                <p><strong>Jadi:</strong> (f ‚àò g)(x) = 2x - 5</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-red-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-red-800 mb-3">‚ö†Ô∏è Kesalahan Umum</h3>
                    <div class="space-y-3">
                        <div class="bg-white rounded-lg p-4">
                            <p class="font-semibold text-red-700 mb-2">‚ùå Salah:</p>
                            <p class="text-gray-700">(f ‚àò g)(x) = f(x) √ó g(x)</p>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <p class="font-semibold text-green-700 mb-2">‚úÖ Benar:</p>
                            <p class="text-gray-700">(f ‚àò g)(x) = f(g(x))</p>
                        </div>
                        <div class="mt-4 p-3 bg-red-100 rounded-lg">
                            <p class="text-sm text-red-800">
                                <strong>Ingat:</strong> Komposisi fungsi bukan perkalian! Ini adalah substitusi fungsi.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="bg-indigo-50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-indigo-800 mb-3">üßÆ Contoh dengan Fungsi Kuadrat</h3>
                    <div class="bg-white rounded-lg p-4">
                        <p><strong>Diketahui:</strong> f(x) = x¬≤ + 2x dan g(x) = x + 1</p>
                        <p><strong>Tentukan:</strong> (f ‚àò g)(x)</p>
                        <div class="mt-3 space-y-2 text-sm">
                            <p><strong>Langkah 1:</strong> g(x) = x + 1</p>
                            <p><strong>Langkah 2:</strong> f(g(x)) = f(x + 1) = (x + 1)¬≤ + 2(x + 1)</p>
                            <p><strong>Langkah 3:</strong> = x¬≤ + 2x + 1 + 2x + 2</p>
                            <p><strong>Langkah 4:</strong> = x¬≤ + 4x + 3</p>
                            <p><strong>Jadi:</strong> (f ‚àò g)(x) = x¬≤ + 4x + 3</p>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="showSection('game')" class="bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors">
                        Mulai Latihan Soal ‚Üí
                    </button>
                </div>
            </div>
        </div>



        <!-- Game Section -->
        <div id="game-section" class="hidden">
            <!-- Score Board -->
            <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 mb-8 text-center">
                <div class="grid grid-cols-3 gap-4">
                    <div class="bg-white/20 rounded-lg p-4">
                        <div class="text-2xl font-bold text-white" id="score">0</div>
                        <div class="text-purple-100">Skor</div>
                    </div>
                    <div class="bg-white/20 rounded-lg p-4">
                        <div class="text-2xl font-bold text-white" id="question-number">1</div>
                        <div class="text-purple-100">Soal ke-</div>
                    </div>
                    <div class="bg-white/20 rounded-lg p-4">
                        <div class="text-2xl font-bold text-white" id="total-questions">4</div>
                        <div class="text-purple-100">Total Soal</div>
                    </div>
                </div>
            </div>

            <!-- Game Area -->
            <div class="bg-white rounded-2xl shadow-2xl p-8 mb-6" id="game-area">
                <!-- Question -->
                <div class="mb-8">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Soal:</h2>
                    <div class="bg-blue-50 rounded-lg p-6 mb-4">
                        <div class="text-lg text-gray-700 mb-4" id="functions">
                            <!-- Functions will be displayed here -->
                        </div>
                        <div class="text-xl font-semibold text-blue-800 math" id="question">
                            <!-- Question will be displayed here -->
                        </div>
                    </div>
                </div>

                <!-- Answer Options -->
                <div class="space-y-3" id="options">
                    <!-- Options will be generated here -->
                </div>

                <!-- Next Button -->
                <div class="text-center mt-8">
                    <button id="next-btn" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 shadow-lg transform hover:scale-105 hidden">
                        <span class="flex items-center justify-center">
                            <span>Soal Berikutnya</span>
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>

            <!-- Result Screen -->
            <div class="bg-white rounded-2xl shadow-2xl p-8 text-center hidden" id="result-screen">
                <div class="text-6xl mb-4" id="result-emoji">üéâ</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-4" id="result-title">Selamat!</h2>
                <p class="text-xl text-gray-600 mb-6" id="result-message">Kamu telah menyelesaikan semua soal!</p>
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <div class="text-4xl font-bold text-blue-600 mb-2" id="final-score">0</div>
                    <div class="text-gray-600">Skor Akhir</div>
                </div>
                <div class="space-x-4">
                    <button onclick="restartGame()" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200">
                        Main Lagi
                    </button>
                    <button onclick="showSection('material')" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200">
                        Pelajari Lagi
                    </button>
                </div>
            </div>
        </div>


    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="text-6xl mb-4">üòî</div>
            <h3 class="text-2xl font-bold text-red-600 mb-3">Jawaban Salah!</h3>
            <p class="text-gray-600 mb-4" id="error-explanation">
                <!-- Explanation will be shown here -->
            </p>
            <div class="bg-red-50 rounded-lg p-4 mb-4">
                <p class="text-sm text-red-700">
                    <strong>Jawaban yang benar:</strong> <span id="correct-answer"></span>
                </p>
            </div>
            <button onclick="closeErrorModal()" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors">
                Mengerti
            </button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let score = 0;
        let totalQuestions = 4;
        let selectedAnswer = null;

        const questions = [
            {
                functions: "f(x) = 2x + 3",
                question: "Tentukan (f ‚àò f ‚àò f)(x)",
                options: ["6x + 9", "4x + 12", "8x + 21", "2x + 9", "8x + 15"],
                correct: 2,
                explanation: "f(f(x)) = f(2x+3) = 2(2x+3)+3 = 4x+9, kemudian f(f(f(x))) = f(4x+9) = 2(4x+9)+3 = 8x+21"
            },
            {
                functions: "f(x) = <sup>2x-3</sup>/<sub>7-3x</sub>, g(x) = 4x + 2",
                question: "Tentukan (g ‚àò f)(x)",
                options: ["<sup>8x-12</sup>/<sub>7-3x</sub>", "<sup>8x+8</sup>/<sub>7-3x</sub>", "<sup>2x+2</sup>/<sub>7-3x</sub>", "<sup>8x-6</sup>/<sub>7-3x</sub>", "<sup>14-4x</sup>/<sub>7-3x</sub>"],
                correct: 2,
                explanation: "g(f(x)) = 4((2x-3)/(7-3x)) + 2 = (8x-12)/(7-3x) + 2 = (8x-12+2(7-3x))/(7-3x) = (8x-12+14-6x)/(7-3x) = (2x+2)/(7-3x)"
            },
            {
                functions: "f(x) = 2x + 3, g(x) = x¬≤ - 1",
                question: "Tentukan (f ‚àò g)(3)",
                options: ["17", "19", "15", "21", "23"],
                correct: 1,
                explanation: "g(3) = 9 - 1 = 8, kemudian f(8) = 16 + 3 = 19"
            },
            {
                functions: "f(x) = 2x¬≤ - 4x + 5",
                question: "Tentukan f(x + 3)",
                options: ["2x¬≤ + 12x + 23", "2x¬≤ + 4x + 14", "2x¬≤ + 6x + 20", "2x¬≤ + 8x + 17", "2x¬≤ + 8x + 11"],
                correct: 4,
                explanation: "f(x+3) = 2(x+3)¬≤ - 4(x+3) + 5 = 2(x¬≤ + 6x + 9) - 4x - 12 + 5 = 2x¬≤ + 12x + 18 - 4x - 12 + 5 = 2x¬≤ + 8x + 11"
            }
        ];

        function showSection(section) {
            // Hide all sections
            document.getElementById('material-section').classList.add('hidden');
            document.getElementById('game-section').classList.add('hidden');
            
            // Reset button styles
            document.getElementById('btn-material').className = "bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-lg font-semibold transition-colors";
            document.getElementById('btn-game').className = "bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-lg font-semibold transition-colors";
            
            // Show selected section and highlight button
            if (section === 'material') {
                document.getElementById('material-section').classList.remove('hidden');
                document.getElementById('btn-material').className = "bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors";
            } else if (section === 'game') {
                document.getElementById('game-section').classList.remove('hidden');
                document.getElementById('btn-game').className = "bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors";
                if (currentQuestion === 0 && score === 0) {
                    displayQuestion();
                }
            }
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('functions').innerHTML = question.functions;
            document.getElementById('question').innerHTML = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 math text-lg';
                button.innerHTML = `<span class="font-semibold text-purple-600">${String.fromCharCode(65 + index)}.</span> ${option}`;
                button.onclick = () => selectAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('question-number').textContent = currentQuestion + 1;
            document.getElementById('next-btn').style.display = 'none';
            selectedAnswer = null;
        }

        function selectAnswer(answerIndex, buttonElement) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = answerIndex;
            const question = questions[currentQuestion];
            const buttons = document.querySelectorAll('#options button');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                } else if (index === answerIndex && answerIndex !== question.correct) {
                    btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                }
            });
            
            if (answerIndex === question.correct) {
                score += 20;
                document.getElementById('score').textContent = score;
                // Celebration for correct answer
                showCelebration();
                buttonElement.classList.add('celebrate');
            } else {
                // Show error modal for wrong answer
                showErrorModal(question);
            }
            
            document.getElementById('next-btn').style.display = 'block';
        }

        function showCelebration() {
            // Create more confetti for spectacular effect
            for (let i = 0; i < 100; i++) {
                createConfetti();
            }
            
            // Animate score
            const scoreElement = document.getElementById('score');
            scoreElement.classList.add('celebrate');
            
            // Remove animation class after animation completes
            setTimeout(() => {
                scoreElement.classList.remove('celebrate');
            }, 600);
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            
            // More vibrant colors
            const colors = [
                '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', 
                '#ff9ff3', '#54a0ff', '#5f27cd', '#00d2d3', '#ff9f43',
                '#10ac84', '#ee5a24', '#0abde3', '#feca57', '#ff6348'
            ];
            
            // Random shapes and sizes
            const shapes = ['square', 'circle', 'triangle'];
            const shape = shapes[Math.floor(Math.random() * shapes.length)];
            const size = Math.random() * 8 + 8; // 8-15px
            
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.width = size + 'px';
            confetti.style.height = size + 'px';
            
            // Different shapes
            if (shape === 'circle') {
                confetti.style.borderRadius = '50%';
            } else if (shape === 'triangle') {
                confetti.style.width = '0';
                confetti.style.height = '0';
                confetti.style.backgroundColor = 'transparent';
                confetti.style.borderLeft = size/2 + 'px solid transparent';
                confetti.style.borderRight = size/2 + 'px solid transparent';
                confetti.style.borderBottom = size + 'px solid ' + colors[Math.floor(Math.random() * colors.length)];
            }
            
            // Random position and animation
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = '-20px';
            
            const duration = Math.random() * 2 + 2; // 2-4 seconds
            const rotation = Math.random() * 1080 + 360; // 360-1440 degrees
            
            confetti.style.animation = `confetti-fall ${duration}s linear forwards`;
            confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
            
            // Add rotation during fall
            confetti.animate([
                { transform: `translateY(-20px) rotate(0deg)`, opacity: 1 },
                { transform: `translateY(100vh) rotate(${rotation}deg)`, opacity: 0 }
            ], {
                duration: duration * 1000,
                easing: 'linear'
            });
            
            document.body.appendChild(confetti);
            
            // Remove confetti after animation
            setTimeout(() => {
                if (confetti.parentNode) {
                    confetti.remove();
                }
            }, duration * 1000 + 500);
        }

        function showErrorModal(question) {
            document.getElementById('error-explanation').textContent = question.explanation;
            document.getElementById('correct-answer').textContent = question.options[question.correct];
            document.getElementById('error-modal').classList.remove('hidden');
        }

        function closeErrorModal() {
            document.getElementById('error-modal').classList.add('hidden');
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= totalQuestions) {
                showResults();
            } else {
                displayQuestion();
            }
        }

        function showResults() {
            document.getElementById('game-area').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            const percentage = (score / (totalQuestions * 20)) * 100;
            let emoji, title, message;
            
            if (percentage >= 90) {
                emoji = 'üèÜ';
                title = 'Luar Biasa!';
                message = 'Kamu menguasai komposisi fungsi dengan sempurna!';
            } else if (percentage >= 70) {
                emoji = 'üéâ';
                title = 'Bagus Sekali!';
                message = 'Pemahaman komposisi fungsimu sudah sangat baik!';
            } else if (percentage >= 50) {
                emoji = 'üëç';
                title = 'Cukup Baik!';
                message = 'Terus berlatih untuk hasil yang lebih baik!';
            } else {
                emoji = 'üí™';
                title = 'Semangat!';
                message = 'Pelajari lagi materinya dan coba sekali lagi!';
            }
            
            document.getElementById('result-emoji').textContent = emoji;
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-message').textContent = message;
            document.getElementById('final-score').textContent = `${score}/${totalQuestions * 20}`;
        }

        function restartGame() {
            currentQuestion = 0;
            score = 0;
            selectedAnswer = null;
            
            document.getElementById('score').textContent = '0';
            document.getElementById('question-number').textContent = '1';
            document.getElementById('game-area').classList.remove('hidden');
            document.getElementById('result-screen').classList.add('hidden');
            
            displayQuestion();
        }

        // Event Listeners
        document.getElementById('next-btn').onclick = nextQuestion;

        // Initialize with material section
        showSection('material');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97c410638318f916',t:'MTc1NzM5MzQxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
